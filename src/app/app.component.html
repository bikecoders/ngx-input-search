<ngx-loading-bar></ngx-loading-bar>

<div class="container">
  <h1 class="mt-3">Search Countries</h1>
  <h5>
    You can also search for partial names, like
    <b>united</b>
    or
    <b>island</b>
    . Oh, and don't forget to check the
    flag of
    <b>Nepal ðŸ˜®</b>
  </h5>

  <input
    (ngxInputSearch)="doTheSearch($event);"
    debounceTime="600"
    [stringLength]="3"
    (emptyInput)="empty = true"
    (stringTooShort)="countryFilterTooShort = true; empty = false"
    type="text"
    class="search form-control mt-5 w-50 mx-auto"
    placeholder="Country Name"
    aria-label="country name"
  >
  <div
    *ngIf="countryFilterTooShort && !empty"
    class="alert alert-info country-filter-short-alert"
    role="alert"
  >
    Filter too short, try to enter more characters
  </div>

  <div class="row mt-5">
    <ng-container *ngIf="!empty && !countryFilterTooShort">
      <app-country-card
        *ngFor="let item of (countriesResult | async)"
        [country]="item"
        class="col-12 col-sm-6 col-lg-4"
      >
      </app-country-card>
    </ng-container>
    <div *ngIf="empty">
      <h2>Nothing Found</h2>
    </div>
  </div>

</div>
